# SILLY makefile to wrap ors with swig.
#
# Experimental as of <2013-04-02 Tue>
#
# in python you can use ors simply by importing ors:
# >>> import sys
# >>> sys.path.append('../../lib/')
# >>> import ors
# >>> graph = ors.Graph()
#
# Also take a look at share/test/orspy/

ifndef MLR_PATH
	MLR_PATH=~/git/mlr
endif

main: python

python:
	swig2.0 -c++ -python core.i
	install -D corepy.py ~/.local/lib/python2.7/site-packages/corepy.py
	g++ -c -fPIC -shared core_wrap.cxx -I../ -I/usr/include/python2.7/ 
	g++ -shared core_wrap.o -I../ -I/usr/include/python2.7/ -L../../lib -Xlinker -rpath $(MLR_PATH)/share/lib -lCore -lGui -o ~/.local/lib/python2.7/site-packages/_corepy.so
	rm corepy.py

clean:
	rm -f _corepy.so core_wrap.*
